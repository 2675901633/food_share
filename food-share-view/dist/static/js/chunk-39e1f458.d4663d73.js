(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39e1f458"],{"02b1":function(t,e,s){"use strict";s("a581")},"1c9b":function(t,e,s){"use strict";s("2d7f")},2241:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"logo"},[s("el-image",{staticStyle:{width:"35px",height:"35px"},attrs:{src:"/logo.png",fit:"fill"}}),t.flag?t._e():s("div",[s("span",{style:{color:t.bag,display:"block"}},[t._v(t._s(t.sysName))])])],1)},i=[],o={name:"Logo",data(){return{}},props:{sysName:{type:String,required:!0,default:"一路旅友"},flag:{type:Boolean,required:!1},bag:{type:String,default:"#1c1c1c"}},created(){},methods:{}},n=o,r=(s("02b1"),s("2877")),c=Object(r["a"])(n,a,i,!1,null,"13bf7339",null);e["a"]=c.exports},"2d7f":function(t,e,s){},a581:function(t,e,s){},ede4:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-container"},[s("div",{staticStyle:{display:"flex","justify-content":"left",margin:"20px 0"}},[s("Logo",{attrs:{bag:t.colorLogo,bag:"rgb(51,51,51)",sysName:"橙子美食网"}})],1),s("div",{staticClass:"login-panel"},[t._m(0),s("div",{staticClass:"right-login"},[t._m(1),s("div",{staticClass:"text"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.act,expression:"act"}],staticClass:"act",attrs:{placeholder:"输入账号"},domProps:{value:t.act},on:{input:function(e){e.target.composing||(t.act=e.target.value)}}})]),s("div",{staticClass:"text"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],staticClass:"pwd",attrs:{type:"password",placeholder:"输入密码"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),s("div",[s("span",{staticClass:"login-btn",on:{click:t.login}},[t._v("立即登录")])]),s("div",{staticClass:"tip"},[s("p",[t._v("没有账号？"),s("span",{staticClass:"no-act",on:{click:t.toDoRegister}},[t._v("点此注册")])])])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"300px",padding:"40px",display:"flex","justify-content":"center","align-items":"center"}},[s("img",{staticStyle:{width:"200px"},attrs:{src:"/bag.png"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Hi，终于等到你")])])}],o=s("b775"),n=s("5d2d"),r=s("8237"),c=s.n(r),l=s("2241");const d=1300;var u={name:"Login",components:{Logo:l["a"]},data(){return{act:"",pwd:"",colorLogo:"rgb(38,38,38)"}},methods:{toDoRegister(){this.$router.push("/register")},async login(){if(!this.act||!this.pwd)return void this.$swal.fire({title:"填写校验",text:"账号或密码不能为空",icon:"error",showConfirmButton:!1,timer:d});const t=c()(c()(this.pwd)),e={userAccount:this.act,userPwd:t};try{const{data:t}=await o["a"].post("user/login",e);if(200!==t.code)return void this.$swal.fire({title:"登录失败",text:t.msg,icon:"error",showConfirmButton:!1,timer:d});Object(n["c"])(t.data.token),setTimeout(()=>{const{role:e}=t.data;this.navigateToRole(e)},d)}catch(s){console.error("登录请求错误:",s),this.$message.error("登录请求出错，请重试！")}},navigateToRole(t){switch(t){case 1:this.$router.push("/admin");break;case 2:this.$router.push("/user");break;default:console.warn("未知的角色类型:",t);break}}}},p=u,g=(s("1c9b"),s("2877")),f=Object(g["a"])(p,a,i,!1,null,"163738ce",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-39e1f458.d4663d73.js.map