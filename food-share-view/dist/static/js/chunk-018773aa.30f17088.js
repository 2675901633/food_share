(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-018773aa"],{"70b3":function(t,e,s){},bd04:function(t,e,s){"use strict";s("70b3")},d31e:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",[s("p",[t._v("*头像")]),s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:21090/api/food-share-sys/v1.0/file/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[t.userAvatar?s("img",{staticStyle:{width:"88px",height:"88px"},attrs:{src:t.userAvatar}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("div",[s("p",[t._v("*昵称")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.userName,expression:"userInfo.userName"}],staticClass:"dialog-input",attrs:{placeholder:"请输入"},domProps:{value:t.userInfo.userName},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"userName",e.target.value)}}})]),s("div",[s("p",[t._v("*邮箱")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.userEmail,expression:"userInfo.userEmail"}],staticClass:"dialog-input",attrs:{placeholder:"请输入"},domProps:{value:t.userInfo.userEmail},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"userEmail",e.target.value)}}})]),s("div",[s("div",[s("p",{staticStyle:{"font-size":"16px"}},[t._v(" *账号状态 "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"一经封号，不可登录，不可使用系统功能",placement:"right"}},[s("i",{staticClass:"el-icon-info"})])],1),s("div",[t.userInfo.isLogin?s("span",{staticStyle:{"font-size":"14px",color:"rgb(230, 63, 49)","text-decoration":"underline","text-decoration-style":"dashed"}},[s("i",{staticClass:"el-icon-warning-outline",staticStyle:{"margin-right":"6px"}}),t._v("已被封禁")]):s("span",{staticStyle:{"font-size":"14px",color:"rgb(27, 156, 53)"}},[s("i",{staticClass:"el-icon-circle-check",staticStyle:{"margin-right":"6px"}}),t._v("正常")])])]),s("div",[s("p",{staticStyle:{"font-size":"16px"}},[t._v(" *留言状态 "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"禁言后，互动功能受限",placement:"right"}},[s("i",{staticClass:"el-icon-info"})])],1),s("div",[t.userInfo.isWord?s("span",{staticStyle:{"font-size":"14px",color:"rgb(230, 63, 49)","text-decoration":"underline","text-decoration-style":"dashed"}},[s("i",{staticClass:"el-icon-warning-outline",staticStyle:{"margin-right":"6px"}}),t._v("已被封禁")]):s("span",{staticStyle:{"font-size":"14px",color:"rgb(27, 156, 53)"}},[s("i",{staticClass:"el-icon-circle-check",staticStyle:{"margin-right":"6px"}}),t._v("正常")])])]),s("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[s("el-button",{staticClass:"customer",attrs:{type:"primary",size:"mini",round:""},on:{click:t.postInfo}},[t._v("立即修改")])],1)])])},i=[],r={name:"Self",data(){return{userInfo:{},userAvatar:""}},created(){this.auth()},methods:{async postInfo(){const{userName:t,userEmail:e}=this.userInfo,s={userAvatar:this.userAvatar,userName:t,userEmail:e},{data:a}=await this.$axios.put("/user/update",s);this.$notify({position:"buttom-right",duration:1e3,title:"编辑个人信息",message:200===a.code?"编辑成功":"编辑失败",type:200===a.code?"success":"error"}),200===a.code&&this.auth()},handleAvatarSuccess(t,e){this.$notify({duration:1500,title:"头像上传",message:200===t.code?"上传成功":"上传失败",type:200===t.code?"success":"error"}),200===t.code&&(this.userAvatar=t.data)},async auth(){const{data:t}=await this.$axios.get("/user/auth");200!==t.code?this.$router.push("/"):(this.userInfo=t.data,this.userAvatar=t.data.userAvatar)}}},o=r,n=(s("bd04"),s("2877")),c=Object(n["a"])(o,a,i,!1,null,"32dfb0c9",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-018773aa.30f17088.js.map