(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7aa867d5"],{"3bc9":function(t,e,s){},d43c:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"top"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"返回首页",placement:"bottom"}},[s("span",{staticClass:"last-page",on:{click:t.goBack}},[s("i",{staticClass:"el-icon-back"})])]),s("span",{staticClass:"text"},[t._v("发布美食做法")])],1),s("div",{staticClass:"buttom"},[s("div",[s("el-col",{staticStyle:{"padding-left":"10px","border-right":"1px solid rgb(231, 231, 231)","min-height":"calc(100vh - 80px)"},attrs:{span:4}},[s("div",{staticStyle:{"padding-inline":"20px"}},[s("p",{staticStyle:{"font-size":"32px"}},[t._v("系列")]),s("el-select",{staticStyle:{"font-size":"20px"},attrs:{size:"small",placeholder:"菜系"},model:{value:t.gourmet.categoryId,callback:function(e){t.$set(t.gourmet,"categoryId",e)},expression:"gourmet.categoryId"}},t._l(t.categories,(function(t){return s("el-option",{key:t.id,staticStyle:{"font-size":"16px"},attrs:{label:t.name,value:t.id}})})),1)],1),s("div",{staticStyle:{"padding-inline":"20px"}},[s("p",{staticStyle:{"font-size":"32px"}},[t._v("封面")]),s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:21090/api/food-share-sys/v1.0/file/upload","show-file-list":!1,"on-success":t.handleCoverSuccess}},[t.cover?s("img",{staticStyle:{width:"180px",height:"130px"},attrs:{src:t.cover}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("div",{staticStyle:{"padding-inline":"20px"}},[s("p",{staticStyle:{"font-size":"32px"}},[t._v("公开权限")]),s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#3c3f41"},model:{value:t.gourmet.isPublish,callback:function(e){t.$set(t.gourmet,"isPublish",e)},expression:"gourmet.isPublish"}})],1)]),s("el-col",{attrs:{span:20}},[s("div",{staticStyle:{"padding-block":"20px","border-bottom":"1px solid rgb(234, 232, 232)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.gourmet.title,expression:"gourmet.title"}],staticClass:"input-title",staticStyle:{width:"80%","font-size":"40px",padding:"8px 30px"},attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:t.gourmet.title},on:{input:function(e){e.target.composing||t.$set(t.gourmet,"title",e.target.value)}}})]),s("div",{staticStyle:{"border-bottom":"1px solid rgb(234, 232, 232)"}},[s("Editor",{attrs:{height:"calc(100vh - 300px)",receiveContent:t.gourmet.content},on:{"on-receive":t.onReceive}})],1)])],1),s("div",{staticStyle:{"text-align":"center"}},[s("el-button",{staticStyle:{margin:"20px 0"},attrs:{plain:""},on:{click:t.postGourmet}},[t._v("发布做法")])],1)])])},a=[],o=s("ceb0"),c={components:{Editor:o["a"]},name:"CreateGourmet",data(){return{gourmet:{},categories:[],cover:null}},created(){this.fetchFreshCategories()},methods:{postGourmet(){this.gourmet.cover=this.cover,this.$axios.post("/gourmet/save",this.gourmet).then(t=>{200===t.data.code&&(this.$notify({duration:1e3,title:"美食做法新增",message:"新增成功",type:"success"}),this.goBack())}).catch(t=>{console.log("新增美食做法异常：",t)})},handleCoverSuccess(t,e){this.$notify({duration:1500,title:"封面上传",message:200===t.code?"上传成功":"上传失败",type:200===t.code?"success":"error"}),200===t.code&&(this.cover=t.data)},fetchFreshCategories(){this.$axios.post("/category/query",{}).then(t=>{if(200===t.data.code){this.categories=t.data.data;const e={id:null,name:"全部"};this.categories.unshift(e)}}).catch(t=>{console.log("查询美食做法异常：",t)})},goBack(){this.$router.go(-1)},onReceive(t){this.gourmet.content=t}}},l=c,r=(s("f1c1"),s("2877")),n=Object(r["a"])(l,i,a,!1,null,"094a0ee1",null);e["default"]=n.exports},f1c1:function(t,e,s){"use strict";s("3bc9")}}]);
//# sourceMappingURL=chunk-7aa867d5.cf52ac01.js.map