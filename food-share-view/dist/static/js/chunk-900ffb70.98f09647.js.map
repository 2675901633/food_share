{"version":3,"sources":["webpack:///./src/views/user/Gourmet.vue?1e14","webpack:///./src/components/RecommendationSystem.vue?62a8","webpack:///src/components/RecommendationSystem.vue","webpack:///./src/components/RecommendationSystem.vue?c964","webpack:///./src/components/RecommendationSystem.vue","webpack:///./src/utils/data.js","webpack:///./src/api/recommend.js","webpack:///./src/components/RecommendationSystem.vue?8b60","webpack:///./src/views/user/Gourmet.vue?7ee3","webpack:///src/views/user/Gourmet.vue","webpack:///./src/views/user/Gourmet.vue?5531","webpack:///./src/views/user/Gourmet.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","_v","attrs","on","switchBatch","staticClass","metrics","class","$event","showMetrics","_l","gourmet","index","key","readGourmet","cover","slot","userAvatar","_s","userName","title","categoryName","timeOut","createTime","metricsDialogVisible","current_user","precision","toFixed","recall","global_metrics","adjusted_recall","staticRenderFns","name","data","loading","retryCount","maxRetries","topList","defaultLoadItem","currentBatch","allRecommendations","computed","displayList","start","slice","methods","time","timeAgo","loadRecommend","item","token","localStorage","getItem","console","log","warn","controller","AbortController","timeoutId","setTimeout","abort","recommendApi","getRecommendationList","then","res","clearTimeout","code","handleRecommendData","loadMetrics","error","message","handleRecommendError","catch","evaluateMetricsApi","retryLoadMetrics","$message","recommended_gourmets","length","Array","isArray","foundArray","subKey","id","isSamePage","$route","path","query","$router","replace","_t","Date","getTime","push","err","mounted","component","dateString","now","date","secondsPast","Math","floor","daysPast","pythonRequest","axios","create","baseURL","timeout","withCredentials","interceptors","request","use","config","headers","Promise","reject","response","get","pythonRes","url","method","getTrendingFoods","limit","params","getGourmetUV","gourmetId","handleFilterClear","model","value","gourtmetQueryDto","callback","$$v","$set","expression","fetchGourmetData","category","style","backgroundColor","categoryClick","color","categorySelected","gourmetList","detail","upvoteCount","viewCount","saveCount","currentPage","pageSize","totalItems","handleSizeChange","handleCurrentChange","components","RecommendationSystem","categories","filterText","created","fetchCategoryData","sessionStorage","setItem","val","categoryId","$axios","post","unshift","queryDto","current","size","total"],"mappings":"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","file":"static/js/chunk-900ffb70.98f09647.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gourmet.vue?vue&type=style&index=0&id=5c9fe420&prod&scoped=true&lang=scss\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\"}},[_c('p',{staticStyle:{\"font-size\":\"24px\"}},[_vm._v(\"猜你想看\")]),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"15px\"}},[_c('el-button',{staticStyle:{\"font-size\":\"14px\"},attrs:{\"type\":\"text\"},on:{\"click\":_vm.switchBatch}},[_c('i',{staticClass:\"el-icon-refresh\",staticStyle:{\"margin-right\":\"3px\"}}),_vm._v(\"换一批 \")]),_c('el-tooltip',{attrs:{\"content\":_vm.metrics === null ? '数据加载中' : '查看推荐效果',\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-data-analysis\",class:{'disabled-icon': _vm.metrics === null},staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"20px\"},on:{\"click\":function($event){_vm.metrics !== null && _vm.showMetrics()}}})])],1)]),(_vm.loading)?_c('div',{staticStyle:{\"padding\":\"20px 0\"}},[_c('el-skeleton',{attrs:{\"rows\":3,\"animated\":\"\"}}),_c('el-skeleton',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"rows\":3,\"animated\":\"\"}})],1):_vm._l((_vm.topList),function(gourmet,index){return _c('div',{key:index,staticClass:\"gourmet-item\",on:{\"click\":function($event){return _vm.readGourmet(gourmet)}}},[_c('div',{staticClass:\"left\"},[_c('el-image',{attrs:{\"src\":gourmet.cover,\"fit\":\"cover\"}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-plus\"})])])],1),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"user\"},[_c('img',{attrs:{\"src\":gourmet.userAvatar,\"alt\":\"\",\"srcset\":\"\"}}),_c('span',[_vm._v(_vm._s(gourmet.userName))])]),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(gourmet.title))]),_c('div',{staticClass:\"info\"},[_c('span',[_vm._v(_vm._s(gourmet.categoryName))]),_c('span',[_vm._v(_vm._s(_vm.timeOut(gourmet.createTime)))])])])])}),_c('el-dialog',{attrs:{\"title\":\"推荐效果统计报告\",\"visible\":_vm.metricsDialogVisible,\"width\":\"600px\",\"custom-class\":\"metrics-dialog\",\"close-on-click-modal\":false,\"append-to-body\":true},on:{\"update:visible\":function($event){_vm.metricsDialogVisible=$event}}},[(_vm.metrics)?_c('div',{staticClass:\"metrics-content\"},[_c('h3',{staticStyle:{\"margin-bottom\":\"20px\",\"color\":\"#303133\"}},[_vm._v(\"当前用户\")]),_c('div',{staticClass:\"metrics-card\"},[_c('div',{staticClass:\"metric-item\"},[_c('div',{staticClass:\"metric-title\"},[_vm._v(\"准确率\")]),_c('div',{staticClass:\"metric-value\"},[_vm._v(_vm._s((_vm.metrics.current_user.precision * 100).toFixed(2))+\"%\")]),_c('div',{staticClass:\"metric-desc\"},[_vm._v(\"推荐结果中用户实际喜欢的比例\")])]),_c('div',{staticClass:\"metric-item\"},[_c('div',{staticClass:\"metric-title\"},[_vm._v(\"召回率\")]),_c('div',{staticClass:\"metric-value\"},[_vm._v(_vm._s((_vm.metrics.current_user.recall * 100).toFixed(2))+\"%\")]),_c('div',{staticClass:\"metric-desc\"},[_vm._v(\"用户喜欢的内容被推荐的比例\")])])]),_c('h3',{staticStyle:{\"margin\":\"30px 0 20px\",\"color\":\"#303133\"}},[_vm._v(\"全局指标\")]),_c('div',{staticClass:\"metrics-card\"},[_c('div',{staticClass:\"metric-item\"},[_c('div',{staticClass:\"metric-title\"},[_vm._v(\"全局准确率\")]),_c('div',{staticClass:\"metric-value\"},[_vm._v(_vm._s((_vm.metrics.global_metrics.precision * 100).toFixed(2))+\"%\")]),_c('div',{staticClass:\"metric-desc\"},[_vm._v(\"所有用户的平均准确率\")])]),_c('div',{staticClass:\"metric-item\"},[_c('div',{staticClass:\"metric-title\"},[_vm._v(\"全局召回率\")]),_c('div',{staticClass:\"metric-value\"},[_vm._v(_vm._s((_vm.metrics.global_metrics.adjusted_recall * 100).toFixed(2))+\"%\")]),_c('div',{staticClass:\"metric-desc\"},[_vm._v(\"所有用户的平均召回率\")])])])]):_c('div',{staticClass:\"metrics-empty\"},[_c('el-empty',{attrs:{\"description\":\"数据加载中\"}})],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div style=\"display: flex; align-items: center; justify-content: space-between;\">\r\n            <p style=\"font-size: 24px;\">猜你想看</p>\r\n            <div style=\"display: flex; align-items: center; gap: 15px;\">\r\n                <el-button type=\"text\" @click=\"switchBatch\" style=\"font-size: 14px;\">\r\n                    <i class=\"el-icon-refresh\" style=\"margin-right: 3px;\"></i>换一批\r\n                </el-button>\r\n                <el-tooltip :content=\"metrics === null ? '数据加载中' : '查看推荐效果'\" placement=\"top\">\r\n                    <i class=\"el-icon-data-analysis\" \r\n                       :class=\"{'disabled-icon': metrics === null}\"\r\n                       style=\"cursor: pointer; font-size: 20px;\" \r\n                       @click=\"metrics !== null && showMetrics()\"></i>\r\n                </el-tooltip>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"loading\" style=\"padding: 20px 0;\">\r\n            <el-skeleton :rows=\"3\" animated />\r\n            <el-skeleton :rows=\"3\" animated style=\"margin-top: 20px\"/>\r\n        </div>\r\n        <div v-else class=\"gourmet-item\" v-for=\"(gourmet, index) in topList\" :key=\"index\" @click=\"readGourmet(gourmet)\">\r\n            <div class=\"left\">\r\n                <el-image \r\n                    :src=\"gourmet.cover\"\r\n                    fit=\"cover\">\r\n                    <div slot=\"error\" class=\"image-slot\">\r\n                        <i class=\"el-icon-plus\"></i>\r\n                    </div>\r\n                </el-image>\r\n            </div>\r\n            <div class=\"right\">\r\n                <div class=\"user\">\r\n                    <img :src=\"gourmet.userAvatar\" alt=\"\" srcset=\"\">\r\n                    <span>{{ gourmet.userName }}</span>\r\n                </div>\r\n                <div class=\"title\">{{ gourmet.title }}</div>\r\n                <div class=\"info\">\r\n                    <span>{{ gourmet.categoryName }}</span>\r\n                    <span>{{ timeOut(gourmet.createTime) }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 统计报告对话框 -->\r\n        <el-dialog\r\n            title=\"推荐效果统计报告\"\r\n            :visible.sync=\"metricsDialogVisible\"\r\n            width=\"600px\"\r\n            custom-class=\"metrics-dialog\"\r\n            :close-on-click-modal=\"false\"\r\n            :append-to-body=\"true\">\r\n            <div v-if=\"metrics\" class=\"metrics-content\">\r\n                <h3 style=\"margin-bottom: 20px; color: #303133;\">当前用户</h3>\r\n                <div class=\"metrics-card\">\r\n                    <div class=\"metric-item\">\r\n                        <div class=\"metric-title\">准确率</div>\r\n                        <div class=\"metric-value\">{{ (metrics.current_user.precision * 100).toFixed(2) }}%</div>\r\n                        <div class=\"metric-desc\">推荐结果中用户实际喜欢的比例</div>\r\n                    </div>\r\n                    <div class=\"metric-item\">\r\n                        <div class=\"metric-title\">召回率</div>\r\n                        <div class=\"metric-value\">{{ (metrics.current_user.recall * 100).toFixed(2) }}%</div>\r\n                        <div class=\"metric-desc\">用户喜欢的内容被推荐的比例</div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <h3 style=\"margin: 30px 0 20px; color: #303133;\">全局指标</h3>\r\n                <div class=\"metrics-card\">\r\n                    <div class=\"metric-item\">\r\n                        <div class=\"metric-title\">全局准确率</div>\r\n                        <div class=\"metric-value\">{{ (metrics.global_metrics.precision * 100).toFixed(2) }}%</div>\r\n                        <div class=\"metric-desc\">所有用户的平均准确率</div>\r\n                    </div>\r\n                    <div class=\"metric-item\">\r\n                        <div class=\"metric-title\">全局召回率</div>\r\n                        <div class=\"metric-value\">{{ (metrics.global_metrics.adjusted_recall * 100).toFixed(2) }}%</div>\r\n                        <div class=\"metric-desc\">所有用户的平均召回率</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div v-else class=\"metrics-empty\">\r\n                <el-empty description=\"数据加载中\"></el-empty>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { timeAgo } from \"@/utils/data\"\r\nimport { recommendApi } from '@/api/recommend'\r\n\r\nexport default {\r\n    name: \"RecommendationSystem\",\r\n    data() {\r\n        return {\r\n            loading: true,\r\n            retryCount: 0,\r\n            maxRetries: 3,\r\n            metricsDialogVisible: false,\r\n            metrics: null,\r\n            topList: [],\r\n            defaultLoadItem: 5,\r\n            currentBatch: 0, // 0表示第一批，1表示第二批\r\n            allRecommendations: [] // 存储所有推荐内容\r\n        }\r\n    },\r\n    computed: {\r\n        displayList() {\r\n            const start = this.currentBatch * this.defaultLoadItem;\r\n            return this.allRecommendations.slice(start, start + this.defaultLoadItem);\r\n        }\r\n    },\r\n    methods: {\r\n        timeOut(time) {\r\n            return timeAgo(time);\r\n        },\r\n        loadRecommend(item) {\r\n            const token = localStorage.getItem('token');\r\n            console.log(\"开始加载推荐数据，用户token:\", token ? \"已登录\" : \"未登录\");\r\n            \r\n            // 检查用户是否登录\r\n            if (!token) {\r\n                console.warn(\"用户未登录，无法获取个性化推荐\");\r\n                this.loading = false;\r\n                this.allRecommendations = [];\r\n                this.topList = [];\r\n                return;\r\n            }\r\n            \r\n            this.loading = true;\r\n            \r\n            const controller = new AbortController();\r\n            const timeoutId = setTimeout(() => controller.abort(), 30000);\r\n\r\n            console.log(\"发送推荐请求到:\", `/recommend/10`);\r\n            recommendApi.getRecommendationList()\r\n                .then(res => {\r\n                    clearTimeout(timeoutId);\r\n                    console.log(\"推荐请求响应:\", res);\r\n                    const { data } = res;\r\n                    if (data.code === 200) {\r\n                        this.handleRecommendData(res.data);\r\n                        this.loadMetrics();\r\n                    } else {\r\n                        console.error(\"推荐请求返回错误:\", data.message);\r\n                        this.handleRecommendError(data.message);\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    clearTimeout(timeoutId);\r\n                    console.error(\"推荐请求异常:\", error);\r\n                    this.handleRecommendError(error);\r\n                });\r\n        },\r\n\r\n        loadMetrics() {\r\n            const controller = new AbortController();\r\n            const timeoutId = setTimeout(() => controller.abort(), 30000);\r\n\r\n            recommendApi.evaluateMetricsApi()\r\n                .then(res => {\r\n                    clearTimeout(timeoutId);\r\n                    if (res.data.code === 200) {\r\n                        this.metrics = res.data.data;\r\n                    } else {\r\n                        this.retryLoadMetrics(1);\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    clearTimeout(timeoutId);\r\n                    this.retryLoadMetrics(1);\r\n                });\r\n        },\r\n\r\n        retryLoadMetrics(retryCount) {\r\n            if (retryCount <= 3) {\r\n                console.log(`第${retryCount}次重试获取统计数据`);\r\n                setTimeout(() => {\r\n                    const controller = new AbortController();\r\n                    const timeoutId = setTimeout(() => controller.abort(), 30000);\r\n\r\n                    recommendApi.evaluateMetricsApi()\r\n                        .then(res => {\r\n                            clearTimeout(timeoutId);\r\n                            if (res.data.code === 200) {\r\n                                this.metrics = res.data.data;\r\n                            } else {\r\n                                this.retryLoadMetrics(retryCount + 1);\r\n                            }\r\n                        })\r\n                        .catch(error => {\r\n                            clearTimeout(timeoutId);\r\n                            if (retryCount === 3) {\r\n                                this.$message.error('获取统计数据失败，请稍后重试');\r\n                                this.metrics = null;\r\n                            } else {\r\n                                this.retryLoadMetrics(retryCount + 1);\r\n                            }\r\n                        });\r\n                }, 1000 * retryCount);\r\n            }\r\n        },\r\n\r\n        showMetrics() {\r\n            if (!this.metrics) {\r\n                this.loadMetrics();\r\n            }\r\n            this.metricsDialogVisible = true;\r\n        },\r\n        \r\n        handleRecommendData(data) {\r\n            try {\r\n                console.log(\"推荐系统收到的原始数据:\", data);\r\n                \r\n                // 检查是否是Python推荐系统的响应\r\n                if (data && data.data && data.data.recommended_gourmets) {\r\n                    console.log(\"检测到Python推荐系统数据结构\");\r\n                    this.allRecommendations = data.data.recommended_gourmets;\r\n                    console.log(\"使用Python推荐系统数据:\", this.allRecommendations.length);\r\n                }\r\n                // 检查是否是Java后端的响应\r\n                else if (data && data.data && Array.isArray(data.data)) {\r\n                    console.log(\"检测到Java后端数据结构\");\r\n                    this.allRecommendations = data.data;\r\n                    console.log(\"使用Java后端数据:\", this.allRecommendations.length);\r\n                }\r\n                // 尝试处理其他可能的数据结构\r\n                else if (data && Array.isArray(data)) {\r\n                    console.log(\"检测到直接数组数据结构\");\r\n                    this.allRecommendations = data;\r\n                    console.log(\"使用直接数组数据:\", this.allRecommendations.length);\r\n                }\r\n                else if (data && typeof data === 'object') {\r\n                    console.log(\"检测到对象数据结构，尝试提取数据\");\r\n                    // 尝试找到数据中的数组\r\n                    let foundArray = null;\r\n                    for (const key in data) {\r\n                        if (Array.isArray(data[key])) {\r\n                            foundArray = data[key];\r\n                            console.log(`在键 \"${key}\" 中找到数组数据`);\r\n                            break;\r\n                        } else if (data[key] && typeof data[key] === 'object') {\r\n                            for (const subKey in data[key]) {\r\n                                if (Array.isArray(data[key][subKey])) {\r\n                                    foundArray = data[key][subKey];\r\n                                    console.log(`在键 \"${key}.${subKey}\" 中找到数组数据`);\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (foundArray) break;\r\n                        }\r\n                    }\r\n                    \r\n                    if (foundArray) {\r\n                        this.allRecommendations = foundArray;\r\n                        console.log(\"使用提取的数组数据:\", this.allRecommendations.length);\r\n                    } else {\r\n                        console.warn(\"无法在对象中找到数组数据，设置为空数组\");\r\n                        this.allRecommendations = [];\r\n                    }\r\n                }\r\n                else {\r\n                    console.warn(\"未识别的数据结构，设置为空数组:\", data);\r\n                    this.allRecommendations = [];\r\n                }\r\n                \r\n                // 确保allRecommendations始终是数组\r\n                if (!Array.isArray(this.allRecommendations)) {\r\n                    console.warn(\"推荐数据不是数组，强制转换为数组\");\r\n                    this.allRecommendations = [];\r\n                }\r\n                \r\n                console.log(\"最终推荐数据:\", this.allRecommendations);\r\n                this.topList = this.displayList;\r\n                console.log(\"显示推荐数据:\", this.topList);\r\n                this.retryCount = 0;\r\n                this.loading = false;\r\n            } catch (error) {\r\n                console.error(\"处理推荐数据时出错:\", error);\r\n                this.allRecommendations = [];\r\n                this.topList = [];\r\n                this.loading = false;\r\n            }\r\n        },\r\n\r\n        switchBatch() {\r\n            this.currentBatch = this.currentBatch === 0 ? 1 : 0;\r\n            this.topList = this.displayList;\r\n        },\r\n        \r\n        readGourmet(gourmet) {\r\n            console.log(\"点击美食，准备跳转:\", gourmet.id);\r\n            \r\n            // 检查是否是当前页面\r\n            const isSamePage = this.$route.path === '/gourmetDetail' && \r\n                               this.$route.query.id == gourmet.id;\r\n            \r\n            if (isSamePage) {\r\n                // 已经在相同页面，强制刷新组件\r\n                this.$router.replace({\r\n                    path: '/gourmetDetail',\r\n                    query: {\r\n                        id: gourmet.id,\r\n                        _t: new Date().getTime() // 添加时间戳确保刷新\r\n                    }\r\n                }).catch(() => {});\r\n                return;\r\n            }\r\n            \r\n            // 跳转到美食详情页\r\n            this.$router.push({\r\n                path: \"/gourmetDetail\",\r\n                query: {\r\n                    id: gourmet.id\r\n                }\r\n            }).catch(err => {\r\n                // 忽略导航重复错误\r\n                if (err.name !== 'NavigationDuplicated') {\r\n                    console.error(\"路由错误:\", err);\r\n                }\r\n            });\r\n        },\r\n        \r\n        handleRecommendError(error) {\r\n            console.error(\"推荐系统错误:\", error);\r\n            this.loading = false;\r\n            this.retryCount++;\r\n            \r\n            if (this.retryCount <= this.maxRetries) {\r\n                setTimeout(() => {\r\n                    this.loadRecommend();\r\n                }, 1000 * this.retryCount);\r\n            } else {\r\n                this.$message.error(\"获取推荐数据失败，请稍后重试\");\r\n                // 显示空数据\r\n                this.allRecommendations = [];\r\n                this.topList = [];\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        this.loadRecommend();\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.gourmet-item {\r\n    display: flex;\r\n    justify-content: left;\r\n    padding: 10px 0;\r\n    cursor: pointer;\r\n\r\n    .left {\r\n        padding: 5px;\r\n        box-sizing: border-box;\r\n\r\n        img {\r\n            width: 108px;\r\n            height: 80px;\r\n            border-radius: 5px;\r\n        }\r\n    }\r\n\r\n    .right {\r\n        padding: 5px;\r\n        box-sizing: border-box;\r\n\r\n        .user {\r\n            display: flex;\r\n            justify-content: left;\r\n            align-items: center;\r\n            margin-block: 4px;\r\n\r\n            img {\r\n                width: 20px;\r\n                height: 20px;\r\n                border-radius: 10px;\r\n            }\r\n\r\n            span {\r\n                margin-left: 4px;\r\n                font-size: 12px;\r\n            }\r\n        }\r\n\r\n        .title {\r\n            font-size: 16px;\r\n            width: 200px;\r\n            font-weight: 800;\r\n            padding-bottom: 6px;\r\n            white-space: nowrap;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n        }\r\n\r\n        .title:hover {\r\n            text-decoration: underline;\r\n            text-decoration-style: dashed;\r\n        }\r\n\r\n        .info {\r\n            font-size: 12px;\r\n            margin-top: 4px;\r\n            display: flex;\r\n            justify-content: left;\r\n            gap: 10px;\r\n\r\n            span:first-child {\r\n                display: inline-block;\r\n                padding: 1px 3px;\r\n                border-radius: 2px;\r\n                background-color: rgb(237, 243, 249);\r\n                color: rgb(136, 115, 233);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// 对话框样式\r\n::v-deep .metrics-dialog {\r\n  .el-dialog {\r\n    border-radius: 12px;\r\n    overflow: hidden;\r\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\r\n\r\n    &__header {\r\n      padding: 24px;\r\n      border-bottom: 1px solid #EBEEF5;\r\n      margin-right: 0;\r\n      background: linear-gradient(135deg, #409EFF 0%, #36D1DC 100%);\r\n      color: white;\r\n      text-align: center;\r\n      position: relative;\r\n    }\r\n\r\n    &__headerbtn {\r\n      position: absolute;\r\n      top: 50%;\r\n      right: 20px;\r\n      transform: translateY(-50%);\r\n      width: 20px;\r\n      height: 20px;\r\n      padding: 0;\r\n      background: rgba(255, 255, 255, 0.1);\r\n      border: none;\r\n      outline: none;\r\n      cursor: pointer;\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      transition: all 0.3s ease;\r\n\r\n      &:hover {\r\n        background: rgba(255, 255, 255, 0.2);\r\n      }\r\n\r\n      .el-dialog__close {\r\n        color: white;\r\n        font-size: 18px;\r\n        transition: all 0.3s ease;\r\n        \r\n        &:hover {\r\n          transform: rotate(90deg);\r\n        }\r\n      }\r\n    }\r\n\r\n    &__title {\r\n      line-height: 24px;\r\n      font-size: 20px;\r\n      color: white;\r\n      font-weight: 600;\r\n      padding: 0 40px;\r\n    }\r\n\r\n    &__body {\r\n      padding: 0;\r\n    }\r\n  }\r\n\r\n  .metrics-content {\r\n    padding: 24px;\r\n  }\r\n\r\n  .metrics-card {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 30px;\r\n    gap: 20px;\r\n    \r\n    .metric-item {\r\n      flex: 1;\r\n      text-align: center;\r\n      padding: 24px;\r\n      background: linear-gradient(135deg, #F5F7FA 0%, #E4E7EB 100%);\r\n      border-radius: 12px;\r\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n      transition: all 0.3s ease;\r\n      \r\n      &:hover {\r\n        transform: translateY(-2px);\r\n        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);\r\n      }\r\n      \r\n      .metric-title {\r\n        color: #606266;\r\n        font-size: 16px;\r\n        font-weight: 600;\r\n        margin-bottom: 12px;\r\n      }\r\n      \r\n      .metric-value {\r\n        color: #409EFF;\r\n        font-size: 32px;\r\n        font-weight: bold;\r\n        margin-bottom: 12px;\r\n      }\r\n      \r\n      .metric-desc {\r\n        color: #909399;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.disabled-icon {\r\n    color: #ccc;\r\n    cursor: not-allowed !important;\r\n}\r\n\r\n.el-button.el-button--text {\r\n    padding: 0;\r\n    height: auto;\r\n    \r\n    &:hover {\r\n        color: #409EFF;\r\n    }\r\n    \r\n    i {\r\n        font-size: 14px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendationSystem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendationSystem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RecommendationSystem.vue?vue&type=template&id=0a3aae12&scoped=true\"\nimport script from \"./RecommendationSystem.vue?vue&type=script&lang=js\"\nexport * from \"./RecommendationSystem.vue?vue&type=script&lang=js\"\nimport style0 from \"./RecommendationSystem.vue?vue&type=style&index=0&id=0a3aae12&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a3aae12\",\n  null\n  \n)\n\nexport default component.exports","export function timeAgo(dateString) {\r\n    const now = new Date();\r\n    const date = new Date(dateString);\r\n    const secondsPast = (now.getTime() - date.getTime()) / 1000;\r\n    if (secondsPast < 60) {\r\n        return `${Math.floor(secondsPast)} 秒前`;\r\n    } else if (secondsPast < 3600) {\r\n        return `${Math.floor(secondsPast / 60)} 分钟前`;\r\n    } else if (secondsPast <= 86400) {\r\n        return `${Math.floor(secondsPast / 3600)} 小时前`;\r\n    } else {\r\n        const daysPast = Math.floor(secondsPast / 86400);\r\n        if (daysPast === 1) {\r\n            return '1 天前';\r\n        } else {\r\n            return `${daysPast} 天前`;\r\n        }\r\n    }\r\n}","import request from '@/utils/request'\nimport axios from 'axios'\n\n// 创建一个单独的axios实例用于Python推荐系统\nconst pythonRequest = axios.create({\n  baseURL: 'http://localhost:5000',\n  timeout: 5000, // 缩短超时时间以更快回退到备选方案\n  withCredentials: true // 允许跨域请求携带凭证\n});\n\n// 添加请求拦截器，为Python请求添加token\npythonRequest.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token !== null) {\n    config.headers[\"token\"] = token;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// 添加响应拦截器，处理跨域问题\npythonRequest.interceptors.response.use(response => {\n  return response;\n}, error => {\n  console.warn(\"Python推荐系统请求错误:\", error.message);\n  return Promise.reject(error);\n});\n\n// 基于内容的推荐API封装\nexport const recommendApi = {\n  // 获取相似美食推荐\n  getRecommendationList() {\n    console.log('发送推荐请求到Python系统');\n    // 首先尝试从Python推荐系统获取个性化推荐\n    return pythonRequest.get('/recommend/list')\n      .then(pythonRes => {\n        console.log(\"Python推荐系统响应:\", pythonRes);\n        return pythonRes;\n      })\n      .catch(error => {\n        console.warn(\"Python推荐系统请求失败，回退到Java后端:\", error);\n        // 如果Python系统失败，回退到Java后端\n        return request({\n          url: `/recommend/10`,\n          method: 'get',\n          timeout: 10000\n        });\n      });\n  },\n\n  // 获取效果\n  evaluateMetricsApi() {\n    console.log('发送评估请求到Python系统');\n    // 首先尝试从Python推荐系统获取评估指标\n    return pythonRequest.get('/recommend/evaluate')\n      .then(pythonRes => {\n        console.log(\"Python推荐系统评估响应:\", pythonRes);\n        return pythonRes;\n      })\n      .catch(error => {\n        console.warn(\"Python推荐系统评估请求失败，回退到Java后端:\", error);\n        // 如果Python系统失败，回退到Java后端\n        return request({\n          url: `/recommend/metrics/evaluate`,\n          method: 'get',\n          timeout: 8000\n        });\n      });\n  },\n\n  // 获取热门美食排行榜\n  getTrendingFoods(limit = 10) {\n    return request({\n      url: `/recommend/trending`,\n      method: 'get',\n      params: { limit }\n    })\n  },\n\n  // 获取美食UV统计\n  getGourmetUV(gourmetId) {\n    return request({\n      url: `/recommend/uv/${gourmetId}`,\n      method: 'get'\n    })\n  }\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendationSystem.vue?vue&type=style&index=0&id=0a3aae12&prod&scoped=true&lang=scss\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"background-color\":\"rgb(255,255,255)\",\"padding\":\"20px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":18}},[_c('div',{staticStyle:{\"margin\":\"40px 0\"}},[_c('span',{staticStyle:{\"font-size\":\"24px\",\"color\":\"rgb(51,51,51)\",\"font-weight\":\"bold\"}},[_vm._v(\"集锦\")]),_c('el-input',{staticStyle:{\"width\":\"266px\",\"float\":\"right\"},attrs:{\"size\":\"small\",\"placeholder\":\"搜索美食\",\"clearable\":\"\"},on:{\"clear\":_vm.handleFilterClear},model:{value:(_vm.gourtmetQueryDto.title),callback:function ($$v) {_vm.$set(_vm.gourtmetQueryDto, \"title\", $$v)},expression:\"gourtmetQueryDto.title\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.fetchGourmetData},slot:\"append\"})],1)],1),_c('div',{staticStyle:{\"margin-block\":\"20px\"}},_vm._l((_vm.categories),function(category,index){return _c('span',{key:index,staticClass:\"item-category\",style:({\n                    backgroundColor: _vm.categoryClick.id === category.id ? 'rgb(38, 151, 70)' : '',\n                    color: _vm.categoryClick.id === category.id ? 'rgb(245,245,245)' : ''\n                }),on:{\"click\":function($event){return _vm.categorySelected(category)}}},[_vm._v(\" \"+_vm._s(category.name)+\" \")])}),0),(_vm.gourmetList.length === 0)?_c('div',[_c('el-empty',{attrs:{\"description\":\"美食做法暂时未找到\"}})],1):_c('div',[_vm._l((_vm.gourmetList),function(gourmet,index){return _c('div',{key:index,staticClass:\"item-gourmet\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"left\"}},[_c('div',{staticClass:\"left\"},[_c('img',{attrs:{\"src\":gourmet.cover}})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"info\"},[_c('img',{staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"border-radius\":\"10px\"},attrs:{\"src\":gourmet.userAvatar,\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(gourmet.userName))])]),_c('div',{staticClass:\"title\",staticStyle:{\"margin-left\":\"4px\",\"font-size\":\"24px\"},on:{\"click\":function($event){return _vm.readGourmet(gourmet)}}},[_vm._v(\" \"+_vm._s(gourmet.title)+\" \")]),_c('div',{staticClass:\"detail\"},[_vm._v(\" \"+_vm._s(gourmet.detail)+\" \")]),_c('div',{staticClass:\"detail\"},[_c('span',[_vm._v(\" \"+_vm._s(gourmet.createTime)+\" \")]),_c('span',[_c('i',{staticClass:\"el-icon-discount\",staticStyle:{\"margin-right\":\"4px\"}}),_vm._v(\"(\"+_vm._s(gourmet.upvoteCount)+\") \")]),_c('span',[_c('i',{staticClass:\"el-icon-view\",staticStyle:{\"margin-right\":\"4px\"}}),_vm._v(\"(\"+_vm._s(gourmet.viewCount)+\") \")]),_c('span',[_c('i',{staticClass:\"el-icon-star-off\",staticStyle:{\"margin-right\":\"4px\"}}),_vm._v(\"(\"+_vm._s(gourmet.saveCount)+\") \")])])])])}),_c('el-pagination',{staticStyle:{\"margin\":\"10px 0\"},attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.totalItems},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],2)]),_c('el-col',{staticStyle:{\"padding\":\"10px 30px\",\"box-sizing\":\"border-box\",\"position\":\"sticky\",\"top\":\"60px\"},attrs:{\"span\":6}},[_c('recommendation-system',{on:{\"recommend-click\":_vm.readGourmet}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"background-color: rgb(255,255,255);padding: 20px;\">\r\n        <el-row>\r\n            <el-col :span=\"18\">\r\n                <div style=\"margin: 40px 0;\">\r\n                    <span style=\"font-size: 24px;color: rgb(51,51,51);font-weight: bold;\">集锦</span>\r\n                    <el-input size=\"small\" style=\"width: 266px;float: right;\" v-model=\"gourtmetQueryDto.title\"\r\n                        placeholder=\"搜索美食\" clearable @clear=\"handleFilterClear\">\r\n                        <el-button slot=\"append\" @click=\"fetchGourmetData\" icon=\"el-icon-search\"></el-button>\r\n                    </el-input>\r\n                </div>\r\n                <div style=\"margin-block: 20px;\">\r\n                    <span :style=\"{\r\n                        backgroundColor: categoryClick.id === category.id ? 'rgb(38, 151, 70)' : '',\r\n                        color: categoryClick.id === category.id ? 'rgb(245,245,245)' : ''\r\n                    }\" @click=\"categorySelected(category)\" class=\"item-category\"\r\n                        v-for=\"(category, index) in categories\" :key=\"index\">\r\n                        {{ category.name }}\r\n                    </span>\r\n                </div>\r\n                <div v-if=\"gourmetList.length === 0\">\r\n                    <el-empty description=\"美食做法暂时未找到\"></el-empty>\r\n                </div>\r\n                <div v-else>\r\n                    <div style=\"display: flex;justify-content: left;\" class=\"item-gourmet\"\r\n                        v-for=\"(gourmet, index) in gourmetList\" :key=\"index\">\r\n                        <div class=\"left\">\r\n                            <img :src=\"gourmet.cover\">\r\n                        </div>\r\n                        <div class=\"right\">\r\n                            <div class=\"info\">\r\n                                <img style=\"width: 20px;height: 20px;border-radius: 10px;\" :src=\"gourmet.userAvatar\"\r\n                                    alt=\"\">\r\n                                <span>{{ gourmet.userName }}</span>\r\n                            </div>\r\n                            <div style=\"margin-left: 4px;font-size: 24px;\" class=\"title\" @click=\"readGourmet(gourmet)\">\r\n                                {{ gourmet.title }}\r\n                            </div>\r\n                            <div class=\"detail\">\r\n                                {{ gourmet.detail }}\r\n                            </div>\r\n                            <div class=\"detail\">\r\n                                <span>\r\n                                    {{ gourmet.createTime }}\r\n                                </span>\r\n                                <span>\r\n                                    <i class=\"el-icon-discount\" style=\"margin-right: 4px;\"></i>({{ gourmet.upvoteCount\r\n                                    }})\r\n                                </span>\r\n                                <span>\r\n                                    <i class=\"el-icon-view\" style=\"margin-right: 4px;\"></i>({{ gourmet.viewCount }})\r\n                                </span>\r\n                                <span>\r\n                                    <i class=\"el-icon-star-off\" style=\"margin-right: 4px;\"></i>({{ gourmet.saveCount }})\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <el-pagination style=\"margin: 10px 0;\" @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\" :current-page=\"currentPage\" :page-sizes=\"[10, 20]\"\r\n                        :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"totalItems\">\r\n                    </el-pagination>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"6\" style=\"padding: 10px 30px;box-sizing: border-box;position: sticky;top: 60px;\">\r\n                <recommendation-system @recommend-click=\"readGourmet\" />\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { timeAgo } from \"@/utils/data\"\r\nimport RecommendationSystem from '@/components/RecommendationSystem.vue'\r\n\r\nexport default {\r\n    name: \"Gourmet\",\r\n    components: {\r\n        RecommendationSystem\r\n    },\r\n    data() {\r\n        return {\r\n            gourtmetQueryDto: {},\r\n            gourmetList: [],\r\n            categories: [],\r\n            filterText: '',\r\n            currentPage: 1,\r\n            pageSize: 10,\r\n            totalItems: 0,\r\n            categoryClick: { id: null, name: '全部' }\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchCategoryData();\r\n        this.fetchGourmetData();\r\n    },\r\n    methods: {\r\n        timeOut(time) {\r\n            return timeAgo(time);\r\n        },\r\n        readGourmet(gourmet) {\r\n            sessionStorage.setItem('gourmetId', gourmet.id);\r\n            this.$router.push('/gourmetDetail');\r\n        },\r\n        handleFilterClear() {\r\n            this.filterText = '';\r\n            this.fetchGourmetData();\r\n        },\r\n        // 页面大小改变\r\n        handleSizeChange(val) {\r\n            this.pageSize = val;\r\n            this.currentPage = 1;\r\n            this.fetchGourmetData();\r\n        },\r\n        // 当前页切换\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n            this.fetchGourmetData();\r\n        },\r\n        categorySelected(category) {\r\n            this.categoryClick = category;\r\n            this.gourtmetQueryDto.categoryId = category.id;\r\n            this.fetchGourmetData();\r\n        },\r\n        // 查询美食类别\r\n        fetchCategoryData() {\r\n            this.$axios.post('/category/query', {}).then(res => {\r\n                const { data } = res;\r\n                if (data.code === 200) {\r\n                    this.categories = res.data.data;\r\n                    this.categories.unshift(this.categoryClick);\r\n                }\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n        },\r\n        // 查询既公开又审核的美食做法\r\n        fetchGourmetData() {\r\n            const queryDto = {\r\n                current: this.currentPage,\r\n                size: this.pageSize,\r\n                key: this.filterText,\r\n                ...this.gourtmetQueryDto\r\n            };\r\n            this.$axios.post('/gourmet/queryList', queryDto).then(res => {\r\n                const { data } = res;\r\n                if (data.code === 200) {\r\n                    this.gourmetList = res.data.data;\r\n                    this.totalItems = data.total;\r\n                }\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.gourmet-item {\r\n        display: flex;\r\n        justify-content: left;\r\n        padding: 10px 0;\r\n        cursor: pointer;\r\n\r\n        .left {\r\n            padding: 5px;\r\n            box-sizing: border-box;\r\n\r\n            img {\r\n                width: 108px;\r\n                height: 80px;\r\n                border-radius: 5px;\r\n            }\r\n        }\r\n\r\n        .right {\r\n            padding: 5px;\r\n            box-sizing: border-box;\r\n\r\n            .user {\r\n                display: flex;\r\n                justify-content: left;\r\n                align-items: center;\r\n                margin-block: 4px;\r\n\r\n                img {\r\n                    width: 20px;\r\n                    height: 20px;\r\n                    border-radius: 10px;\r\n                }\r\n\r\n                span {\r\n                    margin-left: 4px;\r\n                    font-size: 12px;\r\n                }\r\n            }\r\n\r\n            .title {\r\n                font-size: 16px;\r\n                width: 200px;\r\n                font-weight: 800;\r\n                padding-bottom: 6px;\r\n                white-space: nowrap;\r\n                /* 防止文本换行 */\r\n                overflow: hidden;\r\n                /* 隐藏超出容器的文本 */\r\n                text-overflow: ellipsis;\r\n                /* 使用省略号表示被截断的文本 */\r\n            }\r\n\r\n            .title:hover {\r\n                text-decoration: underline;\r\n                text-decoration-style: dashed;\r\n            }\r\n\r\n            .detail {\r\n                font-size: 14px;\r\n                color: rgb(131, 130, 130);\r\n            }\r\n\r\n            .info {\r\n                font-size: 12px;\r\n                margin-top: 4px;\r\n                display: flex;\r\n                justify-content: left;\r\n                gap: 10px;\r\n\r\n                span:first-child {\r\n                    display: inline-block;\r\n                    padding: 1px 3px;\r\n                    border-radius: 2px;\r\n                    background-color: rgb(237, 243, 249);\r\n                    color: rgb(136, 115, 233);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n.item-category {\r\n    display: inline-block;\r\n    padding: 8px 25px;\r\n    border-radius: 15px;\r\n    margin-right: 2px;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n}\r\n\r\n.item-gourmet:hover {\r\n    background-color: rgb(248, 248, 248);\r\n}\r\n\r\n.item-gourmet {\r\n    display: flex;\r\n    justify-content: left;\r\n    gap: 10px;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n\r\n    .left {\r\n        img {\r\n            width: 190px;\r\n            height: 130px;\r\n            border-radius: 5px;\r\n        }\r\n    }\r\n\r\n    .right {\r\n        .info {\r\n            padding: 4px 6px;\r\n            display: flex;\r\n            justify-content: left;\r\n            align-items: center;\r\n            gap: 5px;\r\n            font-size: 14px;\r\n            color: rgb(90, 89, 89);\r\n        }\r\n\r\n        .title {\r\n            font-size: 20px;\r\n            font-weight: 800;\r\n        }\r\n\r\n        .title:hover {\r\n            text-decoration: underline;\r\n            text-decoration-style: dashed;\r\n        }\r\n\r\n        .detail {\r\n            font-size: 12px;\r\n            padding: 4px 6px;\r\n            color: rgb(90, 89, 89);\r\n            display: flex;\r\n            justify-content: left;\r\n            gap: 10px;\r\n        }\r\n    }\r\n}\r\n.metrics-dialog {\r\n    .metrics-content {\r\n        padding: 20px;\r\n    }\r\n\r\n    .metrics-card {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-bottom: 30px;\r\n        \r\n        .metric-item {\r\n            flex: 1;\r\n            text-align: center;\r\n            padding: 20px;\r\n            background: #f8f9fa;\r\n            border-radius: 8px;\r\n            margin: 0 10px;\r\n            \r\n            .metric-title {\r\n                color: #606266;\r\n                font-size: 16px;\r\n                margin-bottom: 10px;\r\n            }\r\n            \r\n            .metric-value {\r\n                color: #409EFF;\r\n                font-size: 28px;\r\n                font-weight: bold;\r\n                margin-bottom: 10px;\r\n            }\r\n            \r\n            .metric-desc {\r\n                color: #909399;\r\n                font-size: 12px;\r\n                line-height: 1.4;\r\n            }\r\n        }\r\n    }\r\n\r\n    .metrics-stats {\r\n        .stat-box {\r\n            display: flex;\r\n            align-items: center;\r\n            padding: 20px;\r\n            background: #fff;\r\n            border: 1px solid #ebeef5;\r\n            border-radius: 8px;\r\n            \r\n            i {\r\n                font-size: 32px;\r\n                color: #409EFF;\r\n                margin-right: 15px;\r\n            }\r\n            \r\n            .stat-info {\r\n                .stat-value {\r\n                    font-size: 24px;\r\n                    color: #303133;\r\n                    font-weight: bold;\r\n                    margin-bottom: 5px;\r\n                }\r\n                \r\n                .stat-label {\r\n                    font-size: 14px;\r\n                    color: #606266;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .metrics-empty {\r\n        padding: 40px 0;\r\n    }\r\n}\r\n\r\n::v-deep .el-dialog__header {\r\n    padding: 20px 30px;\r\n    border-bottom: 1px solid #ebeef5;\r\n    background: linear-gradient(135deg, #409EFF 0%, #36D1DC 100%);\r\n    border-radius: 8px 8px 0 0;\r\n    text-align: center;\r\n    position: relative;  // 添加相对定位\r\n    \r\n    .el-dialog__title {\r\n        font-size: 20px;\r\n        font-weight: bold;\r\n        color: #ffffff;\r\n        text-shadow: 0 1px 2px rgba(0,0,0,0.1);\r\n        letter-spacing: 1px;\r\n        display: inline-block;\r\n        padding: 0 20px;\r\n    }\r\n\r\n    .el-dialog__headerbtn {\r\n        position: absolute;  // 改为绝对定位\r\n        top: 50%;           // 垂直居中\r\n        transform: translateY(-50%);  // 垂直居中调整\r\n        right: 20px;\r\n        width: 20px;       // 设置固定宽度\r\n        height: 20px;      // 设置固定高度\r\n        z-index: 1;        // 确保在最上层\r\n        \r\n        .el-dialog__close {\r\n            color: #ffffff;\r\n            font-weight: bold;\r\n            font-size: 20px;\r\n            opacity: 0.8;   // 添加透明度\r\n            transition: opacity 0.3s;  // 添加过渡效果\r\n            \r\n            &:hover {\r\n                opacity: 1;  // 悬停时不透明\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n::v-deep .el-dialog__body {\r\n    padding: 0;\r\n}\r\n.disabled-icon {\r\n    color: #C0C4CC;\r\n    cursor: not-allowed !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gourmet.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gourmet.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Gourmet.vue?vue&type=template&id=5c9fe420&scoped=true\"\nimport script from \"./Gourmet.vue?vue&type=script&lang=js\"\nexport * from \"./Gourmet.vue?vue&type=script&lang=js\"\nimport style0 from \"./Gourmet.vue?vue&type=style&index=0&id=5c9fe420&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c9fe420\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}